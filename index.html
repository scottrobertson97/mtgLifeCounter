<html>
  <head>
    <title>MTG Life Counter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="style.css?v=5" />
    <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
  </head>
  <body>
    <div id="app">
      <div id="globalSettings" class="settingOption" >
        <span id="showGlobalGearCircle" v-show="settingState=='global'" @click="showGlobalSettings=!showGlobalSettings"></span>
        <img v-show="settingState=='global'" @click="showGlobalSettings=!showGlobalSettings" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTMuNjE2di0zLjIzMmMtMS42NTEtLjU4Ny0yLjY5NC0uNzUyLTMuMjE5LTIuMDE5di0uMDAxYy0uNTI3LTEuMjcxLjEtMi4xMzQuODQ3LTMuNzA3bC0yLjI4NS0yLjI4NWMtMS41NjEuNzQyLTIuNDMzIDEuMzc1LTMuNzA3Ljg0N2gtLjAwMWMtMS4yNjktLjUyNi0xLjQzNS0xLjU3Ni0yLjAxOS0zLjIxOWgtMy4yMzJjLS41ODIgMS42MzUtLjc0OSAyLjY5Mi0yLjAxOSAzLjIxOWgtLjAwMWMtMS4yNzEuNTI4LTIuMTMyLS4wOTgtMy43MDctLjg0N2wtMi4yODUgMi4yODVjLjc0NSAxLjU2OCAxLjM3NSAyLjQzNC44NDcgMy43MDctLjUyNyAxLjI3MS0xLjU4NCAxLjQzOC0zLjIxOSAyLjAydjMuMjMyYzEuNjMyLjU4IDIuNjkyLjc0OSAzLjIxOSAyLjAxOS41MyAxLjI4Mi0uMTE0IDIuMTY2LS44NDcgMy43MDdsMi4yODUgMi4yODZjMS41NjItLjc0MyAyLjQzNC0xLjM3NSAzLjcwNy0uODQ3aC4wMDFjMS4yNy41MjYgMS40MzYgMS41NzkgMi4wMTkgMy4yMTloMy4yMzJjLjU4Mi0xLjYzNi43NS0yLjY5IDIuMDI3LTMuMjIyaC4wMDFjMS4yNjItLjUyNCAyLjEyLjEwMSAzLjY5OC44NTFsMi4yODUtMi4yODZjLS43NDQtMS41NjMtMS4zNzUtMi40MzMtLjg0OC0zLjcwNi41MjctMS4yNzEgMS41ODgtMS40NCAzLjIyMS0yLjAyMXptLTEyIDIuMzg0Yy0yLjIwOSAwLTQtMS43OTEtNC00czEuNzkxLTQgNC00IDQgMS43OTEgNCA0LTEuNzkxIDQtNCA0eiIvPjwvc3ZnPg==">
        <img v-show="settingState!='global'" @click="settingState='global';showGlobalSettings=!showGlobalSettings;" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMjAuMTg4bC04LjMxNS04LjIwOSA4LjItOC4yODItMy42OTctMy42OTctOC4yMTIgOC4zMTgtOC4zMS04LjIwMy0zLjY2NiAzLjY2NiA4LjMyMSA4LjI0LTguMjA2IDguMzEzIDMuNjY2IDMuNjY2IDguMjM3LTguMzE4IDguMjg1IDguMjAzeiIvPjwvc3ZnPg==">
        <!-- <span id="showGlobalGearCircle"></span>
        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjQgMTMuNjE2di0zLjIzMmMtMS42NTEtLjU4Ny0yLjY5NC0uNzUyLTMuMjE5LTIuMDE5di0uMDAxYy0uNTI3LTEuMjcxLjEtMi4xMzQuODQ3LTMuNzA3bC0yLjI4NS0yLjI4NWMtMS41NjEuNzQyLTIuNDMzIDEuMzc1LTMuNzA3Ljg0N2gtLjAwMWMtMS4yNjktLjUyNi0xLjQzNS0xLjU3Ni0yLjAxOS0zLjIxOWgtMy4yMzJjLS41ODIgMS42MzUtLjc0OSAyLjY5Mi0yLjAxOSAzLjIxOWgtLjAwMWMtMS4yNzEuNTI4LTIuMTMyLS4wOTgtMy43MDctLjg0N2wtMi4yODUgMi4yODVjLjc0NSAxLjU2OCAxLjM3NSAyLjQzNC44NDcgMy43MDctLjUyNyAxLjI3MS0xLjU4NCAxLjQzOC0zLjIxOSAyLjAydjMuMjMyYzEuNjMyLjU4IDIuNjkyLjc0OSAzLjIxOSAyLjAxOS41MyAxLjI4Mi0uMTE0IDIuMTY2LS44NDcgMy43MDdsMi4yODUgMi4yODZjMS41NjItLjc0MyAyLjQzNC0xLjM3NSAzLjcwNy0uODQ3aC4wMDFjMS4yNy41MjYgMS40MzYgMS41NzkgMi4wMTkgMy4yMTloMy4yMzJjLjU4Mi0xLjYzNi43NS0yLjY5IDIuMDI3LTMuMjIyaC4wMDFjMS4yNjItLjUyNCAyLjEyLjEwMSAzLjY5OC44NTFsMi4yODUtMi4yODZjLS43NDQtMS41NjMtMS4zNzUtMi40MzMtLjg0OC0zLjcwNi41MjctMS4yNzEgMS41ODgtMS40NCAzLjIyMS0yLjAyMXptLTEyIDIuMzg0Yy0yLjIwOSAwLTQtMS43OTEtNC00czEuNzkxLTQgNC00IDQgMS43OTEgNCA0LTEuNzkxIDQtNCA0eiIvPjwvc3ZnPg=="> -->
      </div>

      <template v-for="(option, index) in settingOptions">
      <div v-show="showGlobalSettings && settingState=='global'" class="settingOption" 
        @click="settingState=option.option;option.click();"
        :style="{transform:'translate(-50%, -50%)rotate('+((360/settingOptions.length)*index)+'deg)translateY(-100px)rotate(-'+((360/settingOptions.length)*index)+'deg)'}">
        <img :src="option.img">
      </div>
      </template>

      <div id="players" v-show="!showGlobalSettings" :style="showThirds?{flexDirection:'column'}:{}">
        <player v-for="i in playerCount" 
          :player-count="playerCount" 
          :default-life="defaultLife" 
          :reset="reset" 
          :index="i" 
          :history="history"
        />
      </div>
      <div v-show="showGlobalSettings">
        <playercount v-show="settingState=='playercount'" :player-count="playerCount" @increment-player="incrementPlayer"></playercount>
        <div v-show="settingState=='history'" >
          <div style="width: 100%;height: 40%;overflow: scroll;padding-left: 15px;">
            <p v-for="(h, index) in history">
              {{index}}: {{h}}
            </p>
          </div>
          <div style="width: 100%;height: 20%;"></div>
          <h1 style="width: 100%;height: 40%;text-align: center;" @click="history=[]">Clear History</h1>
        </div>
        <div v-show="settingState=='startinglife'" style="padding-top: 100px;">
          <div style="text-align: center;">
            <label style="font-size: 50px;">Starting Life: </label>
            <input type="number" step="1" min="1" placeholder="20" 
            style="font-size: 50px;width: 100px;"
            @change="changeStartingLife"/>
          </div>
        </div>
        <div v-show="settingState=='coin'" style="width: 100%;text-align: center;padding-top: 100px;">
          <h1 
          @click="flipCoin"
          >Click me to flip</h1>
          <h1>The Coin is <span 
            style="font-weight: bold;"
            :style="{color:'hsl('+coinColor+',75%,50%)', webkitTextStroke:'1px hsl('+coinColor+',50%,25%)'}"
            >{{coin}}</span></h1>
        </div>
      </div>
    </div>
    <script src="main.js?v=5"></script>
    <script src="player.js?v=5"></script>
    <script src="playercount.js?v=5"></script>
    <script>
      const mountedApp = app.mount("#app");     
    </script>
  </body>
</html>